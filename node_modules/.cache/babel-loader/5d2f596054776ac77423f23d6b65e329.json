{"ast":null,"code":"import _classCallCheck from\"C:/Users/tjbur/Documents/GitHub/DataRep-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/tjbur/Documents/GitHub/DataRep-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/tjbur/Documents/GitHub/DataRep-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/tjbur/Documents/GitHub/DataRep-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/tjbur/Documents/GitHub/DataRep-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ShowCurrentItems=/*#__PURE__*/function(_React$Component){_inherits(ShowCurrentItems,_React$Component);var _super=_createSuper(ShowCurrentItems);function ShowCurrentItems(){var _this;_classCallCheck(this,ShowCurrentItems);_this=_super.call(this);_this.Buyone=_this.Buyone.bind(_assertThisInitialized(_this));_this.state={Name:'',Price:'',Stock:0,Image:''};return _this;}//On Componet load runs this.\n_createClass(ShowCurrentItems,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.put('http://localhost:4000/items/'+this.props.item._id)//Gets info from server saves it\n.then(function(response){_this2.setState({_id:response.data._id,Name:response.data.Name,Image:response.data.Image,Stock:response.data.Stock,Price:response.data.Price});}).catch(function(error){console.log(error+\" Error in mount\");});}//Removes 1 from record\n},{key:\"Buyone\",value:function Buyone(e){var _this3=this;//Sets new stock (Other wise only work's one time)\nthis.setState({Stock:this.state.Stock-1});var newItem={Name:this.state.Name,Price:this.state.Price,Stock:this.state.Stock,Image:this.state.Image,_id:this.state._id};console.log(this.state.Stock);axios.put('http://localhost:4000/items/'+this.state._id,newItem).then(function(){//Sends info to server\n_this3.props.ReloadRecords();//Reloads records\n}).catch(function(error){console.log(error+\" Error in buyone\");});}},{key:\"render\",value:function render(){//If stock is 0 do not render in homepage\n{if(this.props.item.Stock==0){return/*#__PURE__*/_jsx(\"div\",{className:\"container\"});}else return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"img\",{src:this.props.item.Image,width:\"200\",height:\"200\"}),/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h4\",{children:this.props.item.Name})}),/*#__PURE__*/_jsx(\"p\",{children:this.props.item.Stock}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$ \",this.props.item.Price]})]})}),/*#__PURE__*/_jsx(Button,{type:\"button\",class:\"btn btn-dark\",onClick:this.Buyone,children:\"Buy 1\"})]}),/*#__PURE__*/_jsx(\"br\",{})]});}}}]);return ShowCurrentItems;}(React.Component);","map":{"version":3,"sources":["C:/Users/tjbur/Documents/GitHub/DataRep-Project/src/Componets/ShowCurrentItems.js"],"names":["React","Card","Button","axios","ShowCurrentItems","Buyone","bind","state","Name","Price","Stock","Image","put","props","item","_id","then","response","setState","data","catch","error","console","log","e","newItem","ReloadRecords","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport axios from 'axios';\r\n\r\nexport class ShowCurrentItems extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.Buyone = this.Buyone.bind(this);\r\n        this.state = {\r\n            Name: '',\r\n            Price: '',\r\n            Stock: 0,\r\n            Image: '',\r\n        }\r\n\r\n    }\r\n\r\n    //On Componet load runs this.\r\n    componentDidMount() {\r\n        axios.put('http://localhost:4000/items/' + this.props.item._id) //Gets info from server saves it\r\n            .then(response => {\r\n                this.setState({\r\n                    _id: response.data._id,\r\n                    Name: response.data.Name,\r\n                    Image: response.data.Image,\r\n                    Stock: response.data.Stock,\r\n                    Price: response.data.Price\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                    console.log(error + \" Error in mount\")\r\n                }\r\n            );\r\n    }\r\n\r\n    //Removes 1 from record\r\n    Buyone(e) {\r\n        //Sets new stock (Other wise only work's one time)\r\n        this.setState(\r\n            {\r\n                Stock: this.state.Stock - 1\r\n            }\r\n        )\r\n        const newItem = {\r\n            Name: this.state.Name,\r\n            Price: this.state.Price,\r\n            Stock: this.state.Stock,\r\n            Image: this.state.Image,\r\n            _id: this.state._id\r\n        }\r\n        console.log(this.state.Stock);\r\n        axios.put('http://localhost:4000/items/' + this.state._id, newItem).then(() => { //Sends info to server\r\n            this.props.ReloadRecords();//Reloads records\r\n        })\r\n            .catch((error) => {\r\n                console.log(error + \" Error in buyone\")\r\n            });\r\n    }\r\n\r\n    render() {\r\n        //If stock is 0 do not render in homepage\r\n        {\r\n            if (this.props.item.Stock == 0) {\r\n                return (\r\n                    <div className=\"container\"></div>\r\n                )\r\n            } else\r\n                return (\r\n\r\n                    <div class=\"container\">\r\n\r\n                        <Card>\r\n                            <Card.Body>\r\n                                <blockquote className=\"blockquote mb-0\">\r\n                                    <img src={this.props.item.Image} width=\"200\" height=\"200\"></img>\r\n                                    <Card.Header><h4>{this.props.item.Name}</h4></Card.Header>\r\n                                    <p>{this.props.item.Stock}</p>\r\n                                    <p>$ {this.props.item.Price}</p>\r\n                                </blockquote>\r\n                            </Card.Body>\r\n                            <Button type=\"button\" class=\"btn btn-dark\" onClick={this.Buyone}>Buy 1</Button>\r\n                        </Card>\r\n                        <br/>\r\n\r\n\r\n                    </div>\r\n\r\n                );\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}